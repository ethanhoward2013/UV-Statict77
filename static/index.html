<!DOCTYPE html>
<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
      <link rel="stylesheet" href="index.css">
      <link rel="shortcut icon" type="image/jpg" href="~/">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" />
      <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
      <style>
         #code-entry {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            max-width: 300px;
            padding: 20px;
            border-radius: 8px;
            background: #f8f9fa;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            height: 200px;
         }

         #code-entry label {
            font-size: 1.2em;
            margin-bottom: 10px;
            text-align: center;
         }

         #access-code {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1em;
         }

         #access-form button,
         .discord-btn {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            font-size: 1em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
         }

         #access-form button:hover {
            background-color: #218838;
            transform: scale(1.02);
         }

         .discord-btn {
            background-color: #007bff;
            color: #fff;
         }

         .discord-btn:hover {
            background-color: #0056b3;
            transform: scale(1.02);
         }

         #content {
            display: none;
         }

         #footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #343a40;
            color: white;
            text-align: center;
            padding: 10px;
            font-size: 1em;
            font-family: 'Open Sans', sans-serif;
         }
      </style>
   </head>
   <body>
      <script>
         document.addEventListener("DOMContentLoaded", () => {
            const validCodes = [
               "7LmzF@Ek!%KqXrA*3YPoV9^#",
               "qP2z!Ey9#@rVXt$LKM&f8NW*",
               "!x6N$@8mZqKTYF3wV^J#rLp2",
               "WZ*eR#o!Y9kXqMV^Lp@872$F",
               "^q@z6Vp*FRL8N#YXK$!moP23",
               "!qK3v@R^$oXpWYFL*ZN#286p",
               "Unblockifybrorightnow1994",
               "8NLz*moYXqK3PV9FR^@6Wo25#",
               "!PmZRYLtWqXF^82o@9K6Vo32L",
               "K9RYoZtVoW32FPqLm*^Wo@628N"
               // Add as many codes as needed
            ];

            const form = document.querySelector("#access-form");
            const codeEntry = document.querySelector("#code-entry");
            const content = document.querySelector("#content");

            form.addEventListener("submit", (event) => {
               event.preventDefault();
               const codeInput = document.querySelector("#access-code").value;

               // Retrieve redeemed codes from localStorage (initialize if not found)
               const redeemedCodes = JSON.parse(localStorage.getItem("redeemedCodes")) || {};

               // Check if the code is valid
               if (!validCodes.includes(codeInput)) {
                  alert("Access Denied: Invalid Code");
                  window.location.href = "about:blank";
                  return;
               }

               // Check if the code has already been redeemed
               if (redeemedCodes[codeInput]) {
                  alert("Access Denied: This code has already been redeemed.");
                  window.location.href = "about:blank";
                  return;
               }

               // Redeem the code
               redeemedCodes[codeInput] = true; // Mark code as redeemed
               localStorage.setItem("redeemedCodes", JSON.stringify(redeemedCodes));

               // Grant access
               alert("Access Granted: Welcome!");
               codeEntry.style.display = "none";
               content.style.display = "block";
            });
         });
      </script>

      <div id="code-entry">
         <form id="access-form">
            <label for="access-code">Enter Your Access Code</label>
            <input id="access-code" type="text" placeholder="Enter code here" required />
            <button type="submit">Submit</button>
         </form>
         <button class="discord-btn" onclick="window.open('https://discord.gg/a3P5TT9WjK', '_blank')">
            Join Discord
         </button>
      </div>

      <div id="content">
         <h1>Waffle Proxy <span style="color:red; font-weight:bold;">PAID</span></h1>
         <form id="uv-form">
            <input id="uv-search-engine" value="https://www.duckduckgo.com/search?q=%s" type="hidden"/>
            <input id="uv-address" type="text" placeholder="Search DuckDuckGo or type an URL" class="form__input"/>
         </form>
         <div class="desc left-margin">
            <p id="uv-error"></p>
            <pre id="uv-error-code"></pre>
         </div>
      </div>
      <div id="footer"></div>
      <script src="uv/uv.bundle.js" defer></script>
      <script src="uv/uv.config.js" defer></script>
      <script src="register-sw.js" defer></script>
      <script src="search.js" defer></script>
      <script src="index.js" defer></script>
      <script src="error.js" defer></script>
   </body>
</html>
